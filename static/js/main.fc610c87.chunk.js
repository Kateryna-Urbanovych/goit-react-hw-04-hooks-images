(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__jQuRS",Modal:"Modal_Modal__38inO"}},11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__xCmkg",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__11nuw","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__2lvA7"}},13:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__ceTJF"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3CFao"}},15:function(e,t,a){e.exports={Button:"Button_Button__jaRkx"}},17:function(e,t,a){e.exports={loaderSpinner:"LoaderSpinner_loaderSpinner__2f_hA"}},23:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(3),i=a.n(o),l=(a(23),a(12)),s=a(4),u=a(5),m=a(2),j=a.n(m);function b(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("18986249-8b68234fd669e826bdba5acf0","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("No images found on request ".concat(e)))}))}var g={fetchImage:b};b.propTypes={imageValue:j.a.string.isRequired,page:j.a.number.isRequired};var h=g,f=a(13),d=a.n(f);function O(e){var t=e.children;return Object(r.jsx)("header",{className:d.a.Searchbar,children:t})}a(26);var p=a(7),_=a.n(p);function x(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],i=c[1];return Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===o.trim())return u.b.info("Please, write some request");t(o)},className:_.a.SearchForm,children:[Object(r.jsx)("button",{type:"submit",className:_.a.SearchFormButton,children:Object(r.jsx)("span",{className:_.a.SearchFormButtonLabel,children:"Search"})}),Object(r.jsx)("input",{className:_.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){var t=e.target;i(t.value.toLowerCase())}})]})}var I=a(10),S=a.n(I),v=document.querySelector("#modal-root");function y(e){var t=e.onClose,a=e.tag,c=e.largeImageURL;Object(n.useEffect)((function(){return window.addEventListener("keydown",i),function(){window.removeEventListener("keydown",i)}}));var i=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(r.jsx)("div",{className:S.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(r.jsx)("div",{className:S.a.Modal,children:Object(r.jsx)("img",{src:c,alt:a})})}),v)}var F=a(11),w=a.n(F);function k(e){var t=e.webformatURL,a=e.tag,c=e.largeImageURL,o=Object(n.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],m=function(){u((function(e){return!e}))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("li",{className:w.a.ImageGalleryItem,children:[Object(r.jsx)("img",{src:t,alt:a,className:w.a.ImageGalleryItemImage,onClick:m}),l&&Object(r.jsx)(y,{onClose:m,tag:a,largeImageURL:c})]})})}var L=a(14),N=a.n(L);function G(e){var t=e.images;return Object(r.jsx)("ul",{className:N.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.tag,c=e.largeImageURL;return Object(r.jsx)(k,{webformatURL:a,tag:n,largeImageURL:c},t)}))})}var R=a(15),B=a.n(R);function C(e){var t=e.onClick;return Object(r.jsx)("button",{onClick:t,type:"button",className:B.a.Button,children:"Load more"})}var E=a(16),U=a.n(E),q=(a(46),a(17)),M=a.n(q);function T(){return Object(r.jsx)(U.a,{type:"BallTriangle",color:"#3f51b5",height:200,width:200,className:M.a.loaderSpinner})}var J="idle",P="pending",Q="resolved",A="rejected";function X(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(J),i=Object(s.a)(o,2),m=i[0],j=i[1],b=Object(n.useState)([]),g=Object(s.a)(b,2),f=g[0],d=g[1],p=Object(n.useState)(1),_=Object(s.a)(p,2),I=_[0],S=_[1],v=Object(n.useState)(null),y=Object(s.a)(v,2),F=y[0],w=y[1];Object(n.useEffect)((function(){""!==a&&(j(P),h.fetchImage(a,I).then((function(e){if(0===e.hits.length)return j(J),u.b.error("No images found on request ".concat(a));d((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e.hits))})),j(Q)})).catch((function(e){w(e),j(A)})).finally(k))}),[a,I]);var k=function(){window.scrollTo({top:document.documentElement.scrollHeight-1500,behavior:"smooth"})};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.a,{}),Object(r.jsx)(O,{children:Object(r.jsx)(x,{onSubmit:function(e){c(e),S(1),d([]),w(null)}})}),m===J&&Object(r.jsx)("p",{className:"idleText",children:" What are we looking for?"}),m===P&&Object(r.jsx)(T,{}),m===Q&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(G,{images:f}),Object(r.jsx)(C,{onClick:function(){S((function(e){return e+1}))}})]}),m===A&&Object(r.jsx)("p",{className:"rejectedText",children:F.message})]})}i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(X,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={SearchForm:"SearchForm_SearchForm__XQQff",SearchFormButton:"SearchForm_SearchFormButton__3iMk_",SearchFormButtonLabel:"SearchForm_SearchFormButtonLabel__2vXvI",SearchFormInput:"SearchForm_SearchFormInput__3xtRY"}}},[[47,1,2]]]);
//# sourceMappingURL=main.fc610c87.chunk.js.map